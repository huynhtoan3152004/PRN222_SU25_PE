@page "/LionProfiles/Index"
@model LionPetManagement_ToanHH.Pages.LionProfiles.IndexModel

@{
    ViewData["Title"] = "Lion Profiles";
}

<style>
    :root {
        --purple-500: #7b2cbf;
        --purple-600: #6f2bb0;
        --purple-400: #9b6edb;
        --muted: #6c757d;
    }

    .lp-header {
        background: linear-gradient(90deg, var(--purple-600), var(--purple-400));
        color: #fff;
        padding: 1.25rem 1rem;
        border-radius: .5rem;
        margin-bottom: 1rem;
    }

    .lp-card {
        border: 1px solid rgba(123,44,191,.12);
        border-radius: .6rem;
        box-shadow: 0 6px 18px rgba(123,44,191,.06);
    }

    .lp-btn {
        background: var(--purple-500);
        border: 1px solid var(--purple-600);
        color: #fff;
    }

    .lp-btn-outline {
        background: transparent;
        color: var(--purple-600);
        border: 1px solid var(--purple-600);
    }

    .lp-btn:hover {
        filter: brightness(.95);
    }

    .search-input:focus {
        border-color: var(--purple-500);
        box-shadow: 0 0 0 .15rem rgba(123,44,191,.15);
    }

    .table thead th {
        background: linear-gradient(90deg,var(--purple-600),var(--purple-400));
        color: #fff;
        border: none;
    }

    .table tbody tr td {
        vertical-align: middle;
    }

    .small-muted {
        color: var(--muted);
        font-size: .9rem;
    }

    /* Responsive */
    @@media (max-width: 768px) {
        .lp-header {
            text-align: center;
        }

        .search-row {
            flex-direction: column;
            gap: .5rem;
        }
    }
</style>

<div class="container py-3">
    <div class="lp-header d-flex justify-content-between align-items-center">
        <div>
            <h3 class="mb-0">🦁 Lion Profiles</h3>
            <div class="small-muted">Quản lý hồ sơ sư tử — tìm, xem và chỉnh sửa nhanh</div>
        </div>
        <div>
            <a asp-page="Create" class="btn lp-btn">✨ Create New</a>
        </div>
    </div>

    <div class="lp-card mb-3">
        <div class="card-body">
            <form method="get" asp-page="/LionProfiles/Search" class="d-flex align-items-center search-row" role="search">
                <div class="form-group mr-2 flex-fill">
                    <label class="small-muted mb-1">⚖️ Weight (kg)</label>
                    <input name="Weight" type="number" class="form-control search-input" placeholder="Enter weight" value="@Model.Weight" />
                </div>
                <div class="form-group mr-2 flex-fill">
                    <label class="small-muted mb-1">🦁 Lion Type</label>
                    <input name="LionTypeName" type="text" class="form-control search-input" placeholder="Enter lion type" value="@Model.LionTypeName" />
                </div>
                <div class="d-flex align-items-end">
                    <button type="submit" class="btn lp-btn mr-2">🔍 Search</button>
                    <a asp-page="./Index" class="btn lp-btn-outline">🔄 Reset</a>
                </div>
            </form>
        </div>
    </div>

    <div class="lp-card">
        <div class="card-body p-0">
            <div class="table-responsive">
                <table class="table mb-0">
                    <thead>
                        <tr>
                            <th>@Html.DisplayNameFor(model => model.LionProfile[0].LionName)</th>
                            <th>@Html.DisplayNameFor(model => model.LionProfile[0].Weight)</th>
                            <th>@Html.DisplayNameFor(model => model.LionProfile[0].Characteristics)</th>
                            <th>@Html.DisplayNameFor(model => model.LionProfile[0].Warning)</th>
                            <th>@Html.DisplayNameFor(model => model.LionProfile[0].ModifiedDate)</th>
                            <th>Type ID</th>
                            <th>@Html.DisplayNameFor(model => model.LionProfile[0].LionType.LionTypeName)</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.LionProfile)
                        {
                            <tr>
                                <td><strong>@Html.DisplayFor(modelItem => item.LionName)</strong></td>
                                <td>@Html.DisplayFor(modelItem => item.Weight) kg</td>
                                <td>@Html.DisplayFor(modelItem => item.Characteristics)</td>
                                <td>@Html.DisplayFor(modelItem => item.Warning)</td>
                                <td>@Html.DisplayFor(modelItem => item.ModifiedDate)</td>
                                <td class="small-muted">@Html.DisplayFor(modelItem => item.LionType.LionTypeId)</td>
                                <td>@Html.DisplayFor(modelItem => item.LionType.LionTypeName)</td>
                                <td>
                                    <a asp-page="./Edit" asp-route-id="@item.LionProfileId" class="btn btn-sm lp-btn">✏️ Edit</a>
                                    <a asp-page="./Details" asp-route-id="@item.LionProfileId" class="btn btn-sm lp-btn-outline ml-1">👁️ Details</a>
                                    <a asp-page="./Delete" asp-route-id="@item.LionProfileId" class="btn btn-sm btn-danger ml-1">🗑️ Delete</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card-footer small-muted">
            📊 Hiển thị @(Model.LionProfile?.Count() ?? 0) hồ sơ
        </div>
    </div>
</div>

<script src="~/js/signalr/dist/browser/signalr.js"></script>

